pipeline {
    agent any
    environment {
        PROJECT_NAME = "campaign-service"
        version="1.0.${currentBuild.number}"
    }
    stages {
        stage('Commit Stage') {
            steps {
                script {
                    sh """
                        dotnet restore 
                        dotnet build
                        dotnet publish -c Release
                        zip -r ${env.configName}-${env.version}.zip publish
                        """
                }
            }
        }
    }
}
