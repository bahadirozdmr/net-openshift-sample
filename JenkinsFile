pipeline {
    agent {
        label 'master'
    }
    environment {
        PROJECT_NAME = "campaign-service"
        version="1.0.${currentBuild.number}"

        
    }
}
stages {
    stage('Commit Stage') {
        agent {
            label 'linux-build-2'
        }
        steps {
            script {
                sh """
                    dotnet restore 
                    dotnet build
                    dotnet publish -c Release
                    zip -r ${env.configName}-${env.version}.zip publish
                    """
            }
        }
    }
}